<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>Everbloom Chronicles</title>

<style>
:root{
 --bg:#0d0d0c;--panel:#1a1a17;--accent:#d4a373;--text:#e0dcd3;
 --border:#3d3d34;--btn-bg:#2a2a26;
 --safe-top:env(safe-area-inset-top);--safe-bottom:env(safe-area-inset-bottom)
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Apple SD Gothic Neo',sans-serif}
body{background:var(--bg);color:var(--text);height:100vh;display:flex;flex-direction:column;overflow:hidden}

/* ì‹œì‘ í™”ë©´ ì¶”ê°€ */
#start-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}
#start-screen h1{color:var(--accent);font-size:28px;margin-bottom:20px;letter-spacing:4px}
.blink{animation:blink 1.5s infinite; color:#888; font-size:14px}
@keyframes blink{0%{opacity:0}50%{opacity:1}100%{opacity:0}}

header{padding:calc(var(--safe-top)+10px) 20px 10px;background:var(--panel);border-bottom:1px solid var(--border);display:flex;justify-content:space-between;font-size:14px;flex-shrink:0}
.visual-area{height:200px;position:relative;overflow:hidden;border-bottom:2px solid var(--accent);flex-shrink:0}
#bg-img{width:100%;height:100%;object-fit:cover;opacity:.7}
.location-tag{position:absolute;top:15px;left:15px;background:rgba(0,0,0,.8);padding:5px 12px;border-left:3px solid var(--accent);font-size:12px}

.equip-slots{display:flex;gap:8px;padding:10px;background:#111;border-bottom:1px solid var(--border);flex-shrink:0}
.equip-box{width:30%;height:50px;border:1px solid var(--border);border-radius:6px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:10px;color:#888}
.equip-box.active{border-color:var(--accent);color:var(--accent)}

.tab-bar{display:flex;background:var(--panel);border-bottom:1px solid var(--border);flex-shrink:0}
.tab-btn{flex:1;padding:12px;background:none;border:none;color:#666;font-weight:bold;cursor:pointer}
.tab-btn.active{color:var(--accent);border-bottom:2px solid var(--accent)}

/* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­: flex-growë¥¼ í†µí•´ ë¡œê·¸ ì˜ì—­ì´ ê°€ë³€ì ìœ¼ë¡œ ì¡°ì ˆë¨ */
.main-content{flex:1;overflow-y:auto;padding:15px;background:#0a0a0a;display:flex;flex-direction:column}
/* ë¡œê·¸ ì˜ì—­ ë†’ì´ ê³ ì • í•´ì œ ë° ë²„íŠ¼ ê³µê°„ í™•ë³´ë¥¼ ìœ„í•´ ìˆ˜ì • */
#pane-log{flex-direction:column; justify-content: flex-start;} 
.log-line{margin-bottom:8px;font-size:13px;border-left:2px solid var(--border);padding-left:12px; animation: fadeIn 0.3s ease; color:#bbb}

.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.slot{background:#1c1c1a;padding:12px;border-radius:8px;border:1px solid #333;font-size:12px;cursor:pointer}
.slot.selected{border-color:var(--accent);background:#2a2a22}

/* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­: flex-shrinkë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì ˆëŒ€ ì˜ë¦¬ì§€ ì•Šê²Œ í•¨ */
footer{background:var(--panel);border-top:1px solid var(--border);padding:15px 15px calc(var(--safe-bottom)+15px);flex-shrink:0}
#action-list{display:flex; flex-direction:column; gap:8px;}
.btn{background:var(--btn-bg);padding:16px;border-radius:10px;border:1px solid #444;font-weight:bold;text-align:center;cursor:pointer; transition: 0.1s;}
.btn:active{transform:scale(0.98); opacity: 0.8;}
.btn.special{border-color:var(--accent);color:var(--accent)}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
</style>
</head>

<body>
<div id="start-screen" onclick="game.start()">
    <h1>Everbloom Chronicles</h1>
    <p class="blink">TAP TO START ADVENTURE</p>
</div>

<div id="game-ui" style="display:none;flex-direction:column;height:100%">
<header>
 <div>Day.<span id="ui-day">1</span></div>
 <div id="ui-gold">ğŸ’° 500G</div>
 <div id="ui-hp" style="color:#ff6b6b">â¤ 120 / 120</div>
</header>

<div class="visual-area">
 <div id="loc-tag" class="location-tag">ìŠí˜€ì§„ ìœ ì </div>
 <img id="bg-img" src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=1000">
</div>

<div class="equip-slots">
 <div class="equip-box" id="eq-weapon"><b>WEAPON</b><span>Empty</span></div>
 <div class="equip-box" id="eq-armor"><b>ARMOR</b><span>Empty</span></div>
 <div class="equip-box" id="eq-pet"><b>PET</b><span>Empty</span></div>
</div>

<div class="tab-bar">
 <button class="tab-btn active" onclick="game.tab('log',this)">ë¡œê·¸</button>
 <button class="tab-btn" onclick="game.tab('inv',this)">ê°€ë°©</button>
 <button class="tab-btn" onclick="game.tab('pet',this)">í«</button>
</div>

<div id="pane-log" class="main-content"></div>
<div id="pane-inv" class="main-content" style="display:none"><div id="inv-list" class="grid"></div></div>
<div id="pane-pet" class="main-content" style="display:none"><div id="pet-list" class="grid"></div></div>

<footer><div id="action-list"></div></footer>
</div>

<script>
const SAVE_KEY="everbloom_save";

const DB={
 items:[
  {name:"ë‚¡ì€ ë‹¨ê²€",type:"weapon",stat:5},
  {name:"ë¬´ë”˜ ë„ë¼",type:"weapon",stat:7},
  {name:"ê°•ì²  ì¥ê²€",type:"weapon",stat:12},
  {name:"ì´ˆìŠ¹ë‹¬ ê³¡ë„",type:"weapon",stat:15},
  {name:"ìš©ë³‘ì˜ ë©”ì´ìŠ¤",type:"weapon",stat:18},
  {name:"ì¥ë¯¸ ê°€ì‹œ íœì‹±ê²€",type:"weapon",stat:22},
  {name:"ì•”ì‚´ìì˜ ë¹„ìˆ˜",type:"weapon",stat:25},
  {name:"ì€ë¹› ì„œë¦¬ ì°½",type:"weapon",stat:30},
  {name:"í‘ì²  ëŒ€ê²€",type:"weapon",stat:35},
  {name:"ì˜í˜¼ ì•½íƒˆì",type:"weapon",stat:42},
  {name:"ì²œë‘¥ì˜ ë§ì¹˜",type:"weapon",stat:50},
  {name:"ë°œë­‰",type:"weapon",stat:58},
  {name:"ì„±ê²€ ì—‘ìŠ¤ì¹¼ë¦¬ë²„",type:"weapon",stat:70},
  {name:"í™”ì—¼ì˜ ì‹œë¯¸í„°",type:"weapon",stat:28},
  {name:"ê·¸ë¦¼ì ë‹¨ê²€",type:"weapon",stat:33},
  {name:"ë“œë˜ê³¤ ë³¸ ë¸”ë ˆì´ë“œ",type:"weapon",stat:65},
  {name:"ë¯¸ìŠ¤ë¦´ ì¥ê²€",type:"weapon",stat:48},
  {name:"ì„œë¦¬í•œ",type:"weapon",stat:75},
  {name:"íƒœì–‘ì˜ íŒŒí¸",type:"weapon",stat:82},
  {name:"ì‹¬ì—°ì˜ ê°ˆê³ ë¦¬",type:"weapon",stat:38},
  {name:"í”¼ì˜ ê°ˆì¦",type:"weapon",stat:45},
  {name:"ê³ ëŒ€ ì™•ì˜ ê¶ŒëŠ¥",type:"weapon",stat:90},
  {name:"ìš”ì •ì˜ í™œ",type:"weapon",stat:20},
  {name:"ëŒ€ì§€ì˜ ë¶„ë…¸",type:"weapon",stat:55},
  {name:"ì¹ í‘ì˜ ë‚ ì¹´ë¡œì›€",type:"weapon",stat:40},
  {name:"ìƒˆë²½ì˜ ì¸ë„ì",type:"weapon",stat:100},
  {name:"ì²œ ì¡°ê° ì˜·",type:"armor",stat:3},
  {name:"ê°€ì£½ ê°‘ì˜·",type:"armor",stat:8},
  {name:"êµ¬ë¦¬ ê°€ìŠ´ë³´í˜¸ëŒ€",type:"armor",stat:12},
  {name:"ë‹¨ë‹¨í•œ ì‚¬ìŠ¬ ê°‘ì˜·",type:"armor",stat:18},
  {name:"ì€ë¹› ë°©íŒ¨",type:"armor",stat:10},
  {name:"ê°•ì²  íŒê¸ˆ ê°‘ì˜·",type:"armor",stat:25},
  {name:"ì§‘í–‰ê´€ì˜ í‰ê°‘",type:"armor",stat:32},
  {name:"ê¸°ì‚¬ì˜ ì˜ê´‘",type:"armor",stat:38},
  {name:"í™©ê¸ˆ ì‚¬ì ê°‘ì˜·",type:"armor",stat:45},
  {name:"ë¯¸ìŠ¤ë¦´ í‰ê°‘",type:"armor",stat:52},
  {name:"ë“œë˜ê³¤ ìŠ¤ì¼€ì¼",type:"armor",stat:60},
  {name:"ëª…ê²ì˜ ê°‘ì˜·",type:"armor",stat:70},
  {name:"ìˆ˜í˜¸ìì˜ ê²°ì˜",type:"armor",stat:28},
  {name:"ê·¸ë¦¼ì ë§í† ",type:"armor",stat:15},
  {name:"ì„±ë²½ì˜ ë°©íŒ¨",type:"armor",stat:42},
  {name:"ë¶ˆì‚¬ì¡°ì˜ ê¹ƒí„¸ì˜·",type:"armor",stat:55},
  {name:"ì‹¬ì—°ì˜ ê°€ì£½",type:"armor",stat:30},
  {name:"ë¹™ê²°ì˜ ê°‘ì˜·",type:"armor",stat:48},
  {name:"ì™•ì‹¤ ê·¼ìœ„ëŒ€ ê°‘ì˜·",type:"armor",stat:65},
  {name:"íˆ¬ì‚¬ì˜ ë‚™ì¸",type:"armor",stat:22},
  {name:"ëŒ€ì§€ ìˆ˜í˜¸ì",type:"armor",stat:58},
  {name:"ì‹ ì˜ ìˆ¨ê²°",type:"armor",stat:100},
  {name:"ê³ ëŒ€ ìš©ì‚¬ ê°‘ì˜·",type:"armor",stat:85},
  {name:"ì¹ í‘ì˜ ì„±ê°‘",type:"armor",stat:77},
  {name:"ì •ë ¹ì˜ ë¡œë¸Œ",type:"armor",stat:20},
  {name:"ì˜ì›…ì˜ ë°©íŒ¨",type:"armor",stat:50}
 ],
 pets:[
  {name:"ê¼¬ë§ˆ ìŠ¬ë¼ì„",stat:3},
  {name:"ìš©ê°í•œ ë¶€ì—‰ì´",stat:7},
  {name:"ê·¸ë¦¼ì ëŠ‘ëŒ€",stat:12},
  {name:"í™©ê¸ˆ ë¹„ëŠ˜ ì‰ì–´",stat:5},
  {name:"ë¶ˆíƒ€ëŠ” ì—¬ìš°",stat:15},
  {name:"ì„œë¦¬ ì´ë¹¨ í† ë¼",stat:10},
  {name:"ì—ë©”ë„ë“œ ë‚˜ë¹„",stat:8},
  {name:"ì²œë‘¥ ë§¤",stat:20},
  {name:"ë°”ìœ„ ê±°ë¶",stat:18},
  {name:"ë‹¬ë¹› ìœ ë‹ˆì½˜",stat:25},
  {name:"íƒœì–‘ ì‚¬ì",stat:30},
  {name:"ì§€ì˜¥ì˜ ì‚¬ëƒ¥ê°œ",stat:22},
  {name:"ë¯¸ë‹ˆ ë“œë˜ê³¤",stat:40},
  {name:"ìœ ë ¹ ê³ ì–‘ì´",stat:14},
  {name:"ìˆ²ì˜ ì •ë ¹ ì‚¬ìŠ´",stat:28},
  {name:"ê³ ëŒ€ í”¼ë‹‰ìŠ¤",stat:50},
  {name:"ì‹¬ì—°ì˜ ê°€ì˜¤ë¦¬",stat:35},
  {name:"ê°•ì²  ê³¨ë ˜",stat:45},
  {name:"ë²ˆê°œ ë„ë§ˆë±€",stat:17},
  {name:"ë¬´ì§€ê°œ í˜ê°€ìˆ˜ìŠ¤",stat:33},
  {name:"ì‘ì€ ìš”ì • ì¸í˜•",stat:6},
  {name:"ì°¨ì›ì˜ ê´€ì°°ì",stat:55},
  {name:"ì„±ìŠ¤ëŸ¬ìš´ ê·¸ë¦¬í•€",stat:42},
  {name:"ê·¸ë¦¼ì í‘œë²”",stat:24},
  {name:"ì–¼ìŒ ê¹ƒí„¸ í­ê·„",stat:11},
  {name:"í™”ì—¼ ìˆ¨ê²° í‚¤ë©”ë¼",stat:60}
 ],
 monsters:[
  {name:"ìœ ì  ìŠ¬ë¼ì„",hp:30,atk:5,gold:40},
  {name:"í•´ê³¨ ë³‘ì‚¬",hp:60,atk:12,gold:100},
  {name:"ê³ ëŒ€ ê°€ê³ ì¼",hp:120,atk:25,gold:250},
  {name:"ìœ ì  ìˆ˜í˜¸ì",hp:200,atk:45,gold:600},
  {name:"ê·¸ë¦¼ì ê´´ìˆ˜",hp:90,atk:18,gold:180}
 ]
};

const game={
 p:{gold:500,hp:120,maxHp:120,day:1,inv:[],pets:[],equip:{weapon:null,armor:null,pet:null}},
 loc:'ruin',state:'idle', currentEvent: null, enemy: null,

 save(){
  localStorage.setItem(SAVE_KEY,JSON.stringify(this.p))
 },
 load(){
  const d=localStorage.getItem(SAVE_KEY);
  if(d){
   const loaded = JSON.parse(d);
   this.p = Object.assign(this.p, loaded);
  }
 },

 log(m){
  const p=document.getElementById('pane-log');
  const d=document.createElement('div');
  d.className='log-line';
  d.innerText='> '+m;
  p.appendChild(d);
  if(p.children.length>5) p.removeChild(p.children[0]);
  p.scrollTop = p.scrollHeight;
 },

 updateUI(){
  document.getElementById('ui-day').innerText=this.p.day;
  document.getElementById('ui-gold').innerText=`ğŸ’° ${this.p.gold}G`;
  document.getElementById('ui-hp').innerText=`â¤ ${this.p.hp} / ${this.p.maxHp}`;
  
  ['weapon','armor','pet'].forEach(k=>{
   const el=document.getElementById('eq-'+k);
   el.querySelector('span').innerText=this.p.equip[k]?.name||'Empty';
   el.classList.toggle('active',!!this.p.equip[k]);
  });
  
  if(this.p.hp <= 0) {
   alert("ì „íˆ¬ ë¶ˆëŠ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ë§ˆì„ì—ì„œ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
   this.p.hp = this.p.maxHp; 
   this.p.day = 1; 
   this.p.gold = Math.floor(this.p.gold/2);
   this.loc = 'village'; 
   this.state = 'idle';
   document.getElementById('loc-tag').innerText = "ì•ˆì‹ì˜ ë§ˆì„";
   this.updateUI();
   this.renderActions();
  }
  this.save();
 },

 renderActions(){
  const a=document.getElementById('action-list');
  a.innerHTML='';

  if(this.state === 'battle' && this.enemy) {
   this.addBtn(`âš”ï¸ ê³µê²© (${this.enemy.name} HP: ${this.enemy.hp})`, () => this.battleTurn('attack'), true);
   this.addBtn("ğŸƒ ë„ë§ì¹˜ê¸°", () => this.battleTurn('run'));
   return;
  }

  if(this.state === 'event' && this.currentEvent) {
   this.currentEvent.options.forEach(opt => {
    this.addBtn(opt.text, () => {
     opt.run();
     this.state = 'idle';
     this.renderActions();
     this.updateUI();
    }, true);
   });
   return;
  }

  if(this.loc === 'village') {
   this.addBtn("âš’ï¸ ëŒ€ì¥ê°„ (ë¬´ì‘ìœ„ ì¥ë¹„ 300G)", () => this.craft());
   this.addBtn("ğŸ¥š í« ìƒì  (ë¬´ì‘ìœ„ í« 500G)", () => this.buyPet());
   this.addBtn("â›º ì—¬ê´€ íœ´ì‹ (50G)", () => {
    if(this.p.gold >= 50) {
     this.p.gold -= 50; 
     this.p.hp = this.p.maxHp;
     this.log("ì—¬ê´€ì—ì„œ í‘¹ ì‰¬ì–´ ì²´ë ¥ì„ ëª¨ë‘ íšŒë³µí–ˆìŠµë‹ˆë‹¤.");
     this.updateUI();
    } else { 
     this.log("ê³¨ë“œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤."); 
    }
   });
   this.addBtn("ğŸŒ² íƒì‚¬í•˜ëŸ¬ ê°€ê¸°", () => {
    this.loc = 'ruin';
    this.log("ë§ˆì„ì„ ë– ë‚˜ ìœ ì ìœ¼ë¡œ í–¥í•©ë‹ˆë‹¤.");
    document.getElementById('loc-tag').innerText = "ìŠí˜€ì§„ ìœ ì ";
    this.renderActions();
   });
  } else {
   this.addBtn("ğŸ§­ íƒì‚¬",()=>this.explore());
   this.addBtn("â›º íœ´ì‹",()=>{
    this.p.hp=Math.min(this.p.maxHp,this.p.hp+20);
    this.updateUI();
    this.log("ì ì‹œ íœ´ì‹í•˜ì—¬ 20HPë¥¼ íšŒë³µí–ˆìŠµë‹ˆë‹¤.");
   });
  }
 },

 explore(){
  this.p.day++;
  const rand = Math.random();

  if(rand < 0.15) {
   this.loc = 'village';
   this.log("ğŸ° ë§ˆì„ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤.");
   document.getElementById('loc-tag').innerText = "ì•ˆì‹ì˜ ë§ˆì„";
  } else if(rand < 0.45) {
   this.startBattle();
  } else if(rand < 0.7) {
   this.triggerEvent();
  } else {
   if(Math.random()<0.2){
    const it=DB.items[Math.floor(Math.random()*DB.items.length)];
    this.p.inv.push({...it, id: Date.now()}); 
    this.log(`ë°”ë‹¥ì—ì„œ ì•„ì´í…œ íšë“: ${it.name}`);
   }
   this.p.gold+=30+this.p.day;
   this.p.hp-=2;
   this.log("ì£¼ë³€ì„ íƒì‚¬í•˜ë©° ìì›ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.");
  }
  
  this.updateUI();
  this.renderActions();
 },

 startBattle() {
  const m = DB.monsters[Math.floor(Math.random() * DB.monsters.length)];
  const difficulty = 1 + (this.p.day * 0.05);
  this.enemy = { 
   name: m.name, 
   hp: Math.floor(m.hp * difficulty), 
   maxHp: Math.floor(m.hp * difficulty),
   atk: Math.floor(m.atk * difficulty), 
   gold: Math.floor(m.gold * difficulty) 
  };
  this.state = 'battle';
  this.log(`âš ï¸ ìœ„í˜‘ì ì¸ ${this.enemy.name}(ì´)ê°€ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤!`);
 },

 battleTurn(act) {
  if(act === 'run') {
   if(Math.random() > 0.4) {
    this.log("ì„±ê³µì ìœ¼ë¡œ ë„ë§ì³¤ìŠµë‹ˆë‹¤!");
    this.state = 'idle'; 
    this.enemy = null;
    this.renderActions(); 
    return;
   } else {
    this.log("ë„ë§ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤!");
   }
  } else {
   const pAtk = (this.p.equip.weapon?.stat || 0) + (this.p.equip.pet?.stat || 0) + 10;
   const pDmg = Math.floor(pAtk * (0.8 + Math.random() * 0.4));
   this.enemy.hp -= pDmg;
   this.log(`${this.enemy.name}ì—ê²Œ ${pDmg}ì˜ í”¼í•´ë¥¼ ì…í˜”ìŠµë‹ˆë‹¤.`);

   if(this.enemy.hp <= 0) {
    this.log(`ìŠ¹ë¦¬! ${this.enemy.name}ì„ ì²˜ì¹˜í•˜ê³  ${this.enemy.gold}Gë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.`);
    this.p.gold += this.enemy.gold;
    this.state = 'idle'; 
    this.enemy = null;
    this.updateUI(); 
    this.renderActions(); 
    return;
   }
  }

  const pDef = (this.p.equip.armor?.stat || 0);
  const eDmg = Math.max(1, this.enemy.atk - Math.floor(pDef/2));
  this.p.hp -= eDmg;
  this.log(`${this.enemy.name}ì˜ ë°˜ê²©! ${eDmg}ì˜ í”¼í•´ë¥¼ ì…ì—ˆìŠµë‹ˆë‹¤.`);

  this.updateUI();
  this.renderActions();
 },

 triggerEvent() {
  const events = [
   { 
    text: "ê¸¸ê°€ì— ë²„ë ¤ì§„ ìˆ˜ìƒí•œ ìƒìë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ì—´ì–´ë³¸ë‹¤", run: () => { if(Math.random()>0.5){game.p.gold+=100; game.log("ìƒìì—ì„œ 100G ë°œê²¬!");} else {game.p.hp-=20; game.log("í•¨ì •ì´ì—ˆìŠµë‹ˆë‹¤! -20HP");} }}, 
     { text: "ë¶€ìˆœë‹¤", run: () => { game.p.gold+=20; game.log("ìƒìë¥¼ ë¶€ìˆ´ ì”í•´ì—ì„œ 20Gë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤."); }}, 
     { text: "ë¬´ì‹œí•œë‹¤", run: () => game.log("ìœ„í—˜í•´ ë³´ì—¬ì„œ ì§€ë‚˜ì³¤ìŠµë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ì˜¤ë˜ëœ ìƒ˜ë¬¼ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ë¬¼ì´ ë§‘ì•„ ë³´ì…ë‹ˆë‹¤.", 
    options: [ 
     { text: "ë§ˆì‹ ë‹¤", run: () => { game.p.hp=Math.min(game.p.maxHp, game.p.hp+30); game.log("ê¸°ìš´ì´ ì†Ÿì•„ë‚©ë‹ˆë‹¤! +30HP"); }}, 
     { text: "ì„¸ìˆ˜ë¥¼ í•œë‹¤", run: () => { game.p.hp=Math.min(game.p.maxHp, game.p.hp+10); game.log("ì •ì‹ ì´ ë§‘ì•„ì§‘ë‹ˆë‹¤. +10HP"); }}, 
     { text: "ë¬¼í†µì— ì±„ìš´ë‹¤", run: () => { game.p.gold+=10; game.log("ë‚˜ì¤‘ì— íŒ”ê¸° ìœ„í•´ ë¬¼ì„ ì±„ì› ìŠµë‹ˆë‹¤. +10G"); }} 
    ] 
   },
   { 
    text: "ì§€ë‚˜ê°€ëŠ” ìƒì¸ì´ ë§ì„ ê±¸ì–´ì˜µë‹ˆë‹¤.", 
    options: [ 
     { text: "ë¬¼ê±´ì„ ì‚°ë‹¤", run: () => { if(game.p.gold>=50){game.p.gold-=50; game.p.hp+=20; game.log("ë¹„íƒ€ë¯¼ì„ ìƒ€ìŠµë‹ˆë‹¤. +20HP");} else {game.log("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");} }}, 
     { text: "ê¸¸ì„ ë¬»ëŠ”ë‹¤", run: () => { game.p.gold+=20; game.log("ì§€ë¦„ê¸¸ì„ ì•Œì•„ë‚´ ì‹œê°„ì„ ì•„ê¼ˆìŠµë‹ˆë‹¤. +20G"); }}, 
     { text: "ë¬´ì‹œí•˜ê³  ê°„ë‹¤", run: () => game.log("ìƒì¸ì„ ë¬´ì‹œí•˜ê³  ê°ˆ ê¸¸ì„ ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ë‚˜ë¬´ ë’¤ì— ìˆ¨ì€ ê³ ë¸”ë¦°ê³¼ ëˆˆì´ ë§ˆì£¼ì³¤ìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë¨¼ì € ê³µê²©", run: () => { game.p.gold+=50; game.log("ê³ ë¸”ë¦°ì„ ì«“ì•„ë‚´ê³  ëˆì„ ëºì—ˆìŠµë‹ˆë‹¤. +50G"); }}, 
     { text: "ë¨¹ì´ë¥¼ ì¤€ë‹¤", run: () => { game.p.hp+=5; game.log("ê³ ë¸”ë¦°ì´ ê³ ë§ˆì›Œí•˜ë©° ì•½ì´ˆë¥¼ ì¤ë‹ˆë‹¤. +5HP"); }}, 
     { text: "ë„ë§ì¹œë‹¤", run: () => { game.p.hp-=5; game.log("ë„ë§ì¹˜ë‹¤ ë©êµ´ì— ê±¸ë ¸ìŠµë‹ˆë‹¤. -5HP"); }} 
    ] 
   },
   { 
    text: "ë°˜ì§ì´ëŠ” ê´‘ì„ì´ ë°•íŒ ë°”ìœ„ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ìº”ë‹¤", run: () => { game.p.gold+=150; game.log("ê·€í•œ ê´‘ì„ì„ ì–»ì—ˆìŠµë‹ˆë‹¤! +150G"); }}, 
     { text: "ê´€ì°°í•œë‹¤", run: () => { game.log("ì•„ë¦„ë‹¤ìš´ ê´‘ì„ì…ë‹ˆë‹¤. ì •ì‹ ì  ì•ˆì •ì„ ì–»ìŠµë‹ˆë‹¤."); }}, 
     { text: "ì§€ë‚˜ì¹œë‹¤", run: () => game.log("ì§ì´ ë¬´ê±°ì›Œì§ˆê¹Œ ë´ ê·¸ëƒ¥ ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ìˆ²ì†ì—ì„œ ê¸¸ì„ ìƒì€ ê°•ì•„ì§€ë¥¼ ë§Œë‚¬ìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ì£¼ì¸ì„ ì°¾ì•„ì¤Œ", run: () => { game.p.gold+=200; game.log("ì£¼ì¸ì´ ì‚¬ë¡€ê¸ˆì„ ë“¬ë¿ ì¤ë‹ˆë‹¤. +200G"); }}, 
     { text: "ì“°ë‹¤ë“¬ì–´ì¤Œ", run: () => { game.p.hp+=10; game.log("ê°•ì•„ì§€ê°€ ê¼¬ë¦¬ë¥¼ í”ë“­ë‹ˆë‹¤. +10HP"); }}, 
     { text: "ë¬´ì‹œí•œë‹¤", run: () => game.log("ê°•ì•„ì§€ë¥¼ ë‘ê³  ê°ˆ ê¸¸ì„ ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ë²„ë ¤ì§„ ë§ˆì°¨ì— ì§ì´ ê°€ë“í•©ë‹ˆë‹¤.", 
    options: [ 
     { text: "ë’¤ì ¸ë³¸ë‹¤", run: () => { game.p.gold+=80; game.log("ì“¸ë§Œí•œ ì¡ë™ì‚¬ë‹ˆë¥¼ íŒ”ì•˜ìŠµë‹ˆë‹¤. +80G"); }}, 
     { text: "ë§¤ì¥í•´ì¤Œ", run: () => { game.p.hp=game.p.maxHp; game.log("ì‹ ì„±í•œ ì¶•ë³µì„ ë°›ì•„ ì²´ë ¥ì´ ì™„ì¹˜ë©ë‹ˆë‹¤!"); }}, 
     { text: "ë– ë‚œë‹¤", run: () => game.log("ì°ì°í•œ ê¸°ë¶„ì— ë¹ ë¥´ê²Œ ë– ë‚©ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ê±°ëŒ€í•œ ë…ìˆ˜ë¦¬ê°€ í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜µë‹ˆë‹¤.", 
    options: [ 
     { text: "ë§ì„œ ì‹¸ìš´ë‹¤", run: () => { game.p.hp-=30; game.p.gold+=300; game.log("ë…ìˆ˜ë¦¬ë¥¼ ì¡ê³  ê¹ƒí„¸ì„ íŒ”ì•˜ìŠµë‹ˆë‹¤. -30HP +300G"); }}, 
     { text: "ì£½ì€ ì²™ í•œë‹¤", run: () => { game.log("ë…ìˆ˜ë¦¬ê°€ ê·¸ëƒ¥ ì§€ë‚˜ì³ê°”ìŠµë‹ˆë‹¤."); }}, 
     { text: "ê³ ê¸°ë¥¼ ë˜ì ¸ì¤Œ", run: () => { game.p.gold-=20; game.log("ë…ìˆ˜ë¦¬ê°€ ê³ ê¸°ë¥¼ ë¨¹ê³  ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤. -20G"); }} 
    ] 
   },
   { 
    text: "ì ë“¤ì–´ ìˆëŠ” ê±°ì¸ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë„ë‘‘ì§ˆ", run: () => { game.p.gold+=500; game.log("ê±°ëŒ€í•œ ê¸ˆí™”ë¥¼ í›”ì³¤ìŠµë‹ˆë‹¤! +500G"); }}, 
     { text: "ëª°ë˜ í†µê³¼", run: () => { game.log("ìˆ¨ì„ ì£½ì´ê³  ë¬´ì‚¬íˆ í†µê³¼í–ˆìŠµë‹ˆë‹¤."); }}, 
     { text: "ì†Œë¦¬ ì§€ë¥´ê¸°", run: () => { game.p.hp-=50; game.log("ê±°ì¸ì´ ê¹¨ì–´ë‚˜ ëª½ë‘¥ì´ë¥¼ íœ˜ë‘˜ë €ìŠµë‹ˆë‹¤! -50HP"); }} 
    ] 
   },
   { 
    text: "ë™êµ´ ì•ˆì—ì„œ ì‹ ë¹„ë¡œìš´ ê½ƒì´ í”¼ì–´ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ê½ƒì„ êº¾ëŠ”ë‹¤", run: () => { game.p.gold+=120; game.log("ì—°ê¸ˆìˆ  ì¬ë£Œë¡œ ë¹„ì‹¸ê²Œ íŒ”ë¦½ë‹ˆë‹¤. +120G"); }}, 
     { text: "ê½ƒí–¥ê¸°ë¥¼ ë§¡ìŒ", run: () => { game.p.hp+=40; game.log("í”¼ë¡œê°€ ì‹¹ ê°€ì‹­ë‹ˆë‹¤. +40HP"); }}, 
     { text: "ê¸°ë„í•œë‹¤", run: () => { game.p.maxHp+=5; game.updateUI(); game.log("ìµœëŒ€ ì²´ë ¥ì´ ì¦ê°€í–ˆìŠµë‹ˆë‹¤! +5 MaxHP"); }} 
    ] 
   },
   { 
    text: "ë‚¡ì€ í‘œì§€íŒì´ ë‘ ê°ˆë˜ ê¸¸ì„ ê°€ë¦¬í‚µë‹ˆë‹¤.", 
    options: [ 
     { text: "ì§€ë¦„ê¸¸ë¡œ ê°„ë‹¤", run: () => { game.p.hp-=10; game.p.gold+=100; game.log("í—˜ë‚œí•˜ì§€ë§Œ ë³´ìƒì´ í½ë‹ˆë‹¤. -10HP +100G"); }}, 
     { text: "í°ê¸¸ë¡œ ê°„ë‹¤", run: () => { game.log("ì•ˆì „í•˜ê²Œ ì´ë™í–ˆìŠµë‹ˆë‹¤."); }}, 
     { text: "í‘œì§€íŒ ìˆ˜ì •", run: () => { game.p.gold+=30; game.log("ë‹¤ë¥¸ ëª¨í—˜ê°€ë¥¼ ë•ê³  ë³´ëŒì„ ëŠë‚ë‹ˆë‹¤. +30G"); }} 
    ] 
   },
   { 
    text: "ë§í•˜ëŠ” ëŒì´ í€´ì¦ˆë¥¼ ë‚´ê² ë‹¤ê³  í•©ë‹ˆë‹¤.", 
    options: [ 
     { text: "í€´ì¦ˆë¥¼ í‘¼ë‹¤", run: () => { game.p.gold+=150; game.log("ì •ë‹µì…ë‹ˆë‹¤! ëŒì´ ë³´ë¬¼ì„ ë±‰ìŠµë‹ˆë‹¤. +150G"); }}, 
     { text: "ëŒì„ ë˜ì§„ë‹¤", run: () => { game.p.hp-=5; game.log("ëŒì´ í™”ê°€ ë‚˜ íŠ•ê²¨ ë‚˜ì™”ìŠµë‹ˆë‹¤. -5HP"); }}, 
     { text: "ëŒ€í™”ë¥¼ ê±°ë¶€", run: () => game.log("ëŒì„ ë¬´ì‹œí•˜ê³  ì§€ë‚˜ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "í­í¬ ì•„ë˜ ë¹„ì³ ë³´ì´ëŠ” ë™êµ´ì´ ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "í—¤ì—„ì³ ë“¤ì–´ê°", run: () => { game.p.gold+=250; game.log("ìˆ¨ê²¨ì§„ ë³´ë¬¼ ìƒìë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤! +250G"); }}, 
     { text: "ë‚šì‹œë¥¼ í•œë‹¤", run: () => { game.p.hp+=20; game.log("ë¬¼ê³ ê¸°ë¥¼ ì¡ì•„ êµ¬ì›Œ ë¨¹ì—ˆìŠµë‹ˆë‹¤. +20HP"); }}, 
     { text: "ë©€ë¦¬ì„œ êµ¬ê²½", run: () => game.log("ì•„ë¦„ë‹¤ìš´ í’ê²½ì„ ê°ìƒí•©ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "í•¨ì •ì— ê±¸ë¦° ì‚¬ëƒ¥ê¾¼ì„ ë§Œë‚¬ìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "êµ¬í•´ì¤€ë‹¤", run: () => { game.p.gold+=100; game.log("ì‚¬ëƒ¥ê¾¼ì´ ì‚¬ë¡€ê¸ˆì„ ì¤ë‹ˆë‹¤. +100G"); }}, 
     { text: "ì¥ë¹„ë¥¼ í›”ì¹¨", run: () => { game.p.gold+=200; game.p.hp-=10; game.log("ì£„ì±…ê°ê³¼ í•¨ê»˜ ì¥ë¹„ë¥¼ ì±™ê²¼ìŠµë‹ˆë‹¤. -10HP +200G"); }}, 
     { text: "ëª¨ë¥´ëŠ” ì²™", run: () => game.log("ê·€ì°®ì€ ì¼ì— ì—®ì´ê¸° ì‹«ì–´ ë– ë‚©ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ìˆ²ì˜ ì •ë ¹ì´ ë‚˜íƒ€ë‚˜ ë‹¹ì‹ ì„ ì¶•ë³µí•˜ë ¤ í•©ë‹ˆë‹¤.", 
    options: [ 
     { text: "ëˆì„ ìš”êµ¬", run: () => { game.p.gold+=150; game.log("ì •ë ¹ì´ ì‹¤ë§í•˜ë©° ëˆì„ ì¤ë‹ˆë‹¤. +150G"); }}, 
     { text: "ì²´ë ¥ì„ ìš”êµ¬", run: () => { game.p.hp=game.p.maxHp; game.log("ëª¸ì´ ê°€ë²¼ì›Œì§‘ë‹ˆë‹¤! ì™„ì¹˜"); }}, 
     { text: "ì§€í˜œë¥¼ ìš”êµ¬", run: () => { game.p.day+=1; game.log("ì‹œê°„ì˜ íë¦„ì„ ê¹¨ë‹«ìŠµë‹ˆë‹¤. Day+1"); }} 
    ] 
   },
   { 
    text: "ëŠªì§€ëŒ€ì—ì„œ ë°œì´ ë¹ ì§€ê¸° ì‹œì‘í•©ë‹ˆë‹¤.", 
    options: [ 
     { text: "ì¹¨ì°©í•˜ê²Œ íƒˆì¶œ", run: () => { game.p.hp-=10; game.log("ì¡°ê¸ˆ ë‹¤ì³¤ì§€ë§Œ íƒˆì¶œí–ˆìŠµë‹ˆë‹¤. -10HP"); }}, 
     { text: "ì£¼ë³€ ë‚˜ë¬´ ì¡ê¸°", run: () => { game.p.hp-=5; game.log("ë‚˜ë¬´ ë•ë¶„ì— ê¸ˆë°© ë‚˜ì™”ìŠµë‹ˆë‹¤. -5HP"); }}, 
     { text: "ë„ì›€ ìš”ì²­", run: () => { game.p.gold-=50; game.log("ì§€ë‚˜ê°€ë˜ ì‚¬ëŒì´ ë„ì™€ì£¼ê³  ëˆì„ ë°›ì•„ê°‘ë‹ˆë‹¤. -50G"); }} 
    ] 
   },
   { 
    text: "ê³ ëŒ€ ìœ ì ì˜ ë¬¸ìê°€ ë¹›ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "í•´ë…í•œë‹¤", run: () => { game.p.gold+=300; game.log("ìˆ¨ê²¨ì§„ ê¸ˆê³ ì˜ ìœ„ì¹˜ë¥¼ ì•Œì•˜ìŠµë‹ˆë‹¤! +300G"); }}, 
     { text: "ì†ì„ ëŒ„ë‹¤", run: () => { game.p.hp-=30; game.log("ê°•ë ¥í•œ ë§ˆë ¥ ì¶©ê²©ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤! -30HP"); }}, 
     { text: "íŒŒê´´í•œë‹¤", run: () => { game.p.gold+=50; game.log("ìœ ì ì˜ íŒŒí¸ì„ ì±™ê²¼ìŠµë‹ˆë‹¤. +50G"); }} 
    ] 
   },
   { 
    text: "ë²Œì§‘ì´ ë‚®ê²Œ ë§¤ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ê¿€ì„ ë”´ë‹¤", run: () => { game.p.hp+=30; game.p.gold-=20; game.log("ë²Œì— ì˜ì˜€ì§€ë§Œ ê¿€ì€ ë§›ìˆìŠµë‹ˆë‹¤. +30HP"); }}, 
     { text: "ë²Œì§‘ì„ ë–¨ì–´ëœ¨ë¦¼", run: () => { game.p.gold+=40; game.log("ë²Œì„ ì«“ì•„ë‚´ê³  ë°€ëì„ ì–»ì—ˆìŠµë‹ˆë‹¤. +40G"); }}, 
     { text: "í”¼í•´ê°„ë‹¤", run: () => game.log("ë²Œì„ ìê·¹í•˜ì§€ ì•Šê³  ëŒì•„ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "êµ¬ë¦„ ì†ì—ì„œ ìš©ì˜ ê·¸ë¦¼ìê°€ ë¹„ì¹©ë‹ˆë‹¤.", 
    options: [ 
     { text: "ì†Œë¦¬ë¥¼ ì§€ë¦„", run: () => { game.p.hp-=40; game.log("ìš©ì´ ë¶ˆì„ ë¿œê³  ì§€ë‚˜ê°”ìŠµë‹ˆë‹¤! -40HP"); }}, 
     { text: "ìˆ¨ëŠ”ë‹¤", run: () => { game.log("ë¬´ì‚¬íˆ ì§€ë‚˜ê°€ê¸¸ ê¸°ë„í•©ë‹ˆë‹¤."); }}, 
     { text: "ê·¸ë¦¼ì„ ê·¸ë¦°ë‹¤", run: () => { game.p.gold+=100; game.log("ìš©ì˜ ëª¨ìŠµì´ ë‹´ê¸´ ê·¸ë¦¼ì„ íŒ”ì•˜ìŠµë‹ˆë‹¤. +100G"); }} 
    ] 
   },
   { 
    text: "ë²„ë ¤ì§„ ìº í”„íŒŒì´ì–´ì— ë¶ˆì”¨ê°€ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë¶ˆì„ í”¼ìš´ë‹¤", run: () => { game.p.hp+=20; game.log("ë”°ëœ»í•˜ê²Œ ë°¤ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. +20HP"); }}, 
     { text: "ìš”ë¦¬ë¥¼ í•œë‹¤", run: () => { game.p.maxHp+=2; game.updateUI(); game.log("ì˜ì–‘ê°€ ìˆëŠ” ì‹ì‚¬ë¥¼ í–ˆìŠµë‹ˆë‹¤. +2 MaxHP"); }}, 
     { text: "ë¶ˆì„ ëˆë‹¤", run: () => { game.p.gold+=10; game.log("í™”ì¬ë¥¼ ì˜ˆë°©í•˜ê³  ì¹­ì°¬ì„ ë°›ìŠµë‹ˆë‹¤. +10G"); }} 
    ] 
   },
   { 
    text: "ê¸¸ë°”ë‹¥ì— ê¸ˆì´ ê°„ í•­ì•„ë¦¬ê°€ ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ê¹¨ëœ¨ë¦°ë‹¤", run: () => { game.p.gold+=40; game.log("í•­ì•„ë¦¬ ì•ˆì—ì„œ ë™ì „ì´ ë‚˜ì˜µë‹ˆë‹¤. +40G"); }}, 
     { text: "ì•ˆì„ ì‚´í•€ë‹¤", run: () => { game.p.hp-=5; game.log("í•­ì•„ë¦¬ ì† ë±€ì—ê²Œ ë¬¼ë ¸ìŠµë‹ˆë‹¤. -5HP"); }}, 
     { text: "ë¬´ì‹œí•œë‹¤", run: () => game.log("í‰ë²”í•œ í•­ì•„ë¦¬ì…ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ë‚¡ì€ ì‹ ì „ì—ì„œ ì‹ ë¹„ë¡œìš´ ê¸°ìš´ì´ ëŠê»´ì§‘ë‹ˆë‹¤.", 
    options: [ 
     { text: "í—Œê¸ˆí•œë‹¤", run: () => { if(game.p.gold>=100){game.p.gold-=100; game.p.hp=game.p.maxHp; game.log("ì‹ ì˜ ê°€í˜¸ë¡œ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤!");} else {game.log("ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");} }}, 
     { text: "ê¸°ë„í•œë‹¤", run: () => { game.p.hp+=10; game.log("ë§ˆìŒì´ í‰ì˜¨í•´ì§‘ë‹ˆë‹¤. +10HP"); }}, 
     { text: "ë³´ë¬¼ì„ í›”ì¹¨", run: () => { game.p.gold+=400; game.p.hp-=50; game.log("ì €ì£¼ë¥¼ ë°›ì•˜ì§€ë§Œ ê¸ˆìˆ ì”ì„ ì±™ê²¼ìŠµë‹ˆë‹¤! -50HP +400G"); }} 
    ] 
   },
   { 
    text: "ë²„ì„¯ë“¤ì´ ì›í˜•ìœ¼ë¡œ ìë¼ë‚˜ ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë¨¹ëŠ”ë‹¤", run: () => { if(Math.random()>0.5){game.p.hp+=50; game.log("ë§›ìˆëŠ” ë²„ì„¯ì…ë‹ˆë‹¤! +50HP");} else {game.p.hp-=30; game.log("ë…ë²„ì„¯ì´ì—ˆìŠµë‹ˆë‹¤! -30HP");} }}, 
     { text: "ì±„ì§‘í•œë‹¤", run: () => { game.p.gold+=70; game.log("ì—°êµ¬ì†Œì— íŒ” ë²„ì„¯ì„ ì±™ê²¼ìŠµë‹ˆë‹¤. +70G"); }}, 
     { text: "ë°Ÿê³  ì§€ë‚˜ê°", run: () => game.log("ë²„ì„¯ì„ ìœ¼ê¹¨ë©° ê¸¸ì„ ê°‘ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ê°‘ìê¸° ì•ˆê°œê°€ ììš±í•˜ê²Œ ë‚ë‹ˆë‹¤.", 
    options: [ 
     { text: "ê¸°ë‹¤ë¦°ë‹¤", run: () => { game.log("ì•ˆê°œê°€ ê±·í ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ìŠµë‹ˆë‹¤."); }}, 
     { text: "ë¬´ì‘ì • ì „ì§„", run: () => { game.p.hp-=10; game.p.gold+=50; game.log("ê¸¸ì„ í—¤ë§¸ì§€ë§Œ ë³´ë¬¼ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. -10HP +50G"); }}, 
     { text: "ë§ˆë²•ìœ¼ë¡œ ì œê±°", run: () => { game.p.gold-=20; game.log("ë§ˆë²• ê°€ë£¨ë¥¼ ì‚¬ìš©í•´ ê¸¸ì„ ì—´ì—ˆìŠµë‹ˆë‹¤. -20G"); }} 
    ] 
   },
   { 
    text: "ê±°ëŒ€í•œ ê±°ë¯¸ì¤„ì´ ê¸¸ì„ ë§‰ê³  ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë¶ˆë¡œ íƒœìš´ë‹¤", run: () => { game.log("ê¸¸ì´ ê¹”ë”í•´ì¡ŒìŠµë‹ˆë‹¤."); }}, 
     { text: "ì¹¼ë¡œ ìë¥¸ë‹¤", run: () => { game.p.hp-=5; game.log("ê±°ë¯¸ì¤„ì´ ëˆì ì—¬ ê³ ìƒí–ˆìŠµë‹ˆë‹¤. -5HP"); }}, 
     { text: "ê±°ë¯¸ì™€ ëŒ€í™”", run: () => { game.p.gold+=100; game.log("ê±°ë¯¸ê°€ ì§€ë¦„ê¸¸ì„ ì•Œë ¤ì¤¬ìŠµë‹ˆë‹¤. +100G"); }} 
    ] 
   },
   { 
    text: "ë‚˜ë¬´ êµ¬ë© ì†ì— ë¬´ì–¸ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ì†ì„ ë„£ëŠ”ë‹¤", run: () => { game.p.gold+=60; game.log("ë‹¤ëŒì¥ê°€ ëª¨ì•„ë‘” ë¹„ìƒê¸ˆì„ ì°¾ì•˜ìŠµë‹ˆë‹¤. +60G"); }}, 
     { text: "ë‚˜ë¬´ë¥¼ í”ë“¬", run: () => { game.p.hp-=10; game.log("ë²Œì§‘ì´ ë–¨ì–´ì¡ŒìŠµë‹ˆë‹¤! -10HP"); }}, 
     { text: "ë¨¹ì´ë¥¼ ë„£ëŠ”ë‹¤", run: () => { game.p.maxHp+=2; game.updateUI(); game.log("ìì—°ê³¼ êµê°í•˜ì—¬ ê±´ê°•í•´ì§‘ë‹ˆë‹¤. +2 MaxHP"); }} 
    ] 
   },
   { 
    text: "ë‚¡ì€ ë°°ë‚­ì´ ë•…ì— ë–¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ë‚´ìš©ë¬¼ í™•ì¸", run: () => { game.p.gold+=90; game.log("ì£¼ì¸ ì—†ëŠ” ë°°ë‚­ì—ì„œ ëˆì„ ì±™ê²¼ìŠµë‹ˆë‹¤. +90G"); }}, 
     { text: "ì£¼ì¸ ì°¾ê¸°", run: () => { game.p.gold+=150; game.log("ë‚˜ì¤‘ì— ì£¼ì¸ì´ ì‚¬ë¡€ë¥¼ í•©ë‹ˆë‹¤. +150G"); }}, 
     { text: "ê·¸ëŒ€ë¡œ ë‘ ", run: () => game.log("ë‚¨ì˜ ë¬¼ê±´ì— ì†ëŒ€ì§€ ì•ŠìŠµë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "ì´ìƒí•œ ëƒ„ìƒˆê°€ ë‚˜ëŠ” ì—°ê¸°ê°€ í”¼ì–´ì˜¤ë¦…ë‹ˆë‹¤.", 
    options: [ 
     { text: "ì—°ê¸°ë¥¼ ë§ˆì‹¬", run: () => { game.p.hp-=20; game.log("í™˜ê°ì„ ë³´ì•˜ìŠµë‹ˆë‹¤. -20HP"); }}, 
     { text: "ë¶€ì±„ì§ˆ", run: () => { game.p.gold+=30; game.log("ì—°ê¸°ë¥¼ ì«“ì•„ë‚´ë‹ˆ ë°‘ì— ë™ì „ì´ ìˆìŠµë‹ˆë‹¤. +30G"); }}, 
     { text: "ì½”ë¥¼ ë§‰ê³  ì´ë™", run: () => game.log("ë¹ ë¥´ê²Œ ìë¦¬ë¥¼ í”¼í•©ë‹ˆë‹¤.") } 
    ] 
   },
   { 
    text: "í—ˆìˆ˜ì•„ë¹„ê°€ ë‹¹ì‹ ì„ ì³ë‹¤ë³´ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.", 
    options: [ 
     { text: "ì˜·ì„ ê°ˆì•„ì…í˜", run: () => { game.p.gold+=40; game.log("í—ˆìˆ˜ì•„ë¹„ê°€ ë§Œì¡±í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. +40G"); }}, 
     { text: "ê³µê²©í•œë‹¤", run: () => { game.p.hp-=5; game.log("í—ˆìˆ˜ì•„ë¹„ ì•ˆì˜ ì§šë‹¨ì— ì“¸ë ¸ìŠµë‹ˆë‹¤. -5HP"); }}, 
     { text: "ì¸ì‚¬í•œë‹¤", run: () => { game.p.hp+=5; game.log("ê¸°ë¶„ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤. +5HP"); }} 
    ] 
   },
   { 
    text: "í•˜ëŠ˜ì—ì„œ ëˆì´ ë¹„ì²˜ëŸ¼ ë‚´ë¦¬ê¸° ì‹œì‘í•©ë‹ˆë‹¤.", 
    options: [ 
     { text: "ìë£¨ì— ë‹´ëŠ”ë‹¤", run: () => { game.p.gold+=500; game.log("íš¡ì¬í–ˆìŠµë‹ˆë‹¤! +500G"); }}, 
     { text: "ë¨¸ë¦¬ë¥¼ ë³´í˜¸", run: () => { game.p.hp+=10; game.log("ë™ì „ì— ë§ì§€ ì•Šì•„ ì•ˆì „í•©ë‹ˆë‹¤. +10HP"); }}, 
     { text: "ì´ê±´ í™˜ìƒì´ë‹¤", run: () => { game.p.maxHp+=5; game.updateUI(); game.log("ì •ì‹ ë ¥ì„ ë‹¨ë ¨í–ˆìŠµë‹ˆë‹¤. +5 MaxHP"); }} 
    ] 
   }
  ];
  this.currentEvent = events[Math.floor(Math.random() * events.length)];
  this.state = 'event';
  this.log(`[ì´ë²¤íŠ¸] ${this.currentEvent.text}`);
 },

 craft() {
  if(this.p.gold >= 300) {
   this.p.gold -= 300;
   const it = DB.items[Math.floor(Math.random() * DB.items.length)];
   this.p.inv.push({...it, id: Date.now()});
   this.log(`âš’ï¸ ëŒ€ì¥ê°„: [${it.name}] (Stat: ${it.stat}) ì œì‘!`);
   this.updateUI();
  } else { 
   this.log("ê³¨ë“œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤."); 
  }
 },

 buyPet() {
  if(this.p.gold >= 500) {
   this.p.gold -= 500;
   const pt = DB.pets[Math.floor(Math.random() * DB.pets.length)];
   this.p.pets.push({...pt, id: Date.now()});
   this.log(`ğŸ¥š í« ìƒì : [${pt.name}] ë°œê²¬!`);
   this.updateUI();
  } else { 
   this.log("ê³¨ë“œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤."); 
  }
 },

 renderInv(){
  const list = document.getElementById('inv-list');
  list.innerHTML='';
  this.p.inv.forEach((it, idx)=>{
   const d=document.createElement('div');
   const isEq = this.p.equip[it.type] && this.p.equip[it.type].id === it.id;
   d.className='slot'+(isEq?' selected':'');
   d.innerHTML=`<b>${it.name}</b><br>${it.type === 'weapon' ? 'ATK' : 'DEF'} +${it.stat}`;
   d.onclick=()=>{ 
    this.p.equip[it.type]= isEq ? null : it; 
    this.updateUI(); 
    this.renderInv(); 
   };
   list.appendChild(d);
  });
 },

 renderPets(){
  const list = document.getElementById('pet-list');
  list.innerHTML='';
  this.p.pets.forEach(pt=>{
   const d=document.createElement('div');
   const isEq = this.p.equip.pet === pt;
   d.className='slot'+(isEq?' selected':'');
   d.innerHTML=`<b>${pt.name}</b><br>ATK +${pt.stat}`;
   d.onclick=()=>{
    this.p.equip.pet= isEq ? null : pt; 
    this.updateUI();
    this.renderPets()
   };
   list.appendChild(d);
  });
 },

 tab(t,el){
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  el.classList.add('active');
  ['log','inv','pet'].forEach(p=>{ document.getElementById('pane-'+p).style.display='none'; });
  document.getElementById('pane-'+t).style.display='flex';
  if(t==='inv')this.renderInv();
  if(t==='pet')this.renderPets();
 },

 addBtn(t,f,s=false){
  const b=document.createElement('div');
  b.className='btn'+(s?' special':'');
  b.innerText=t;
  b.onclick=f;
  document.getElementById('action-list').appendChild(b);
 },

 start() {
  document.getElementById('start-screen').style.display='none';
  document.getElementById('game-ui').style.display='flex';
  this.load();
  this.log("ëª¨í—˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.");
  this.updateUI();
  this.renderActions();
 }
};

window.onload=()=>{
 // ì´ˆê¸° í™”ë©´ ëŒ€ê¸°
}
</script>
</body>
</html>
