<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>EVERBLOOM: ALL-IN-ONE MASTER</title>
    <style>
        :root {
            --bg: #050505; --pnl: #121210; --acc: #d4a373; --txt: #e2dfd5;
            --common: #8e9aaf; --rare: #10b981; --epic: #8b5cf6; --legend: #f59e0b;
            --hp: #ef4444; --pet: #3b82f6;
        }
        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Pretendard', sans-serif; }
        body { background: var(--bg); color: var(--txt); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        header { padding: 15px; background: var(--pnl); border-bottom: 2px solid var(--acc); display: flex; justify-content: space-between; align-items: center; }
        .status-bar { padding: 10px 15px; background: #000; border-bottom: 1px solid #222; }
        .hp-bar-outer { width: 100%; height: 20px; background: #222; border-radius: 10px; position: relative; overflow: hidden; border: 1px solid #333; margin: 5px 0; }
        #hp-fill { height: 100%; background: var(--hp); transition: 0.3s; width: 100%; }
        #hp-text { position: absolute; width: 100%; text-align: center; font-size: 10px; line-height: 20px; font-weight: 900; color: #fff; }

        .tabs { display: flex; background: var(--pnl); overflow-x: auto; border-bottom: 1px solid #333; }
        .tab { flex: 1; min-width: 80px; padding: 12px 5px; text-align: center; font-size: 11px; cursor: pointer; color: #555; font-weight: 800; white-space: nowrap; }
        .tab.active { color: var(--acc); border-bottom: 3px solid var(--acc); }

        .content { flex: 1; overflow-y: auto; padding: 15px; background: #080808; display: none; }
        .content.active { display: block; }
        .section-title { font-size: 13px; color: var(--acc); font-weight: 800; margin-bottom: 10px; padding-left: 5px; border-left: 3px solid var(--acc); }

        /* ë°ì´í„° ê·¸ë¦¬ë“œ */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .card { background: #1a1a18; border: 1px solid #333; padding: 10px; border-radius: 6px; position: relative; font-size: 11px; }
        .rarity { font-size: 8px; font-weight: 900; padding: 1px 4px; border-radius: 2px; color: #000; position: absolute; top: 5px; right: 5px; }

        /* ì „íˆ¬ ë¡œê·¸ */
        .battle-ui { background: #111; padding: 15px; border-radius: 10px; margin-bottom: 15px; text-align: center; }
        #log-display { font-size: 12px; color: #999; line-height: 1.6; height: 120px; overflow-y: auto; text-align: left; }

        footer { padding: 15px; background: var(--pnl); border-top: 1px solid #333; }
        .btn { background: #222; color: #fff; padding: 12px; border-radius: 8px; border: 1px solid #444; width: 100%; font-weight: 700; margin-bottom: 5px; }
    </style>
</head>
<body>

<header>
    <div style="font-weight: 900;">DAY <span id="cur-day">1</span></div>
    <div id="cur-gold" style="color:var(--legend); font-weight:800;">500 G</div>
</header>

<div class="status-bar">
    <div class="hp-bar-outer"><div id="hp-fill"></div><div id="hp-text">HP 100/100</div></div>
</div>

<div class="tabs">
    <div class="tab active" onclick="ui.tab('battle')">BATTLE</div>
    <div class="tab" onclick="ui.tab('items')">ì¥ë¹„(30)</div>
    <div class="tab" onclick="ui.tab('pets')">í«(15)</div>
    <div class="tab" onclick="ui.tab('events')">ì´ë²¤íŠ¸(50)</div>
</div>

<div id="tab-battle" class="content active">
    <div class="battle-ui">
        <div id="enemy-box" style="display:none;">
            <h4 id="enemy-name" style="color:var(--hp)">ì  ë“±ì¥</h4>
            <div class="hp-bar-outer" style="height:12px;"><div id="enemy-hp-fill" style="background:var(--hp); width:100%;"></div></div>
            <p id="enemy-hp-text" style="font-size:10px;">100/100</p>
        </div>
        <div id="log-display">ë°©ë‘ìë‹˜, ìƒˆë¡œìš´ ëª¨í—˜ì„ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì…¨ìŠµë‹ˆê¹Œ?</div>
    </div>
</div>

<div id="tab-items" class="content">
    <h3 class="section-title">EQUIPMENT DATABASE (30)</h3>
    <div id="item-grid" class="grid"></div>
</div>

<div id="tab-pets" class="content">
    <h3 class="section-title">PET DATABASE (15)</h3>
    <div id="pet-grid" class="grid"></div>
</div>

<div id="tab-events" class="content">
    <h3 class="section-title">EVENT ARCHIVE (50)</h3>
    <div id="event-list"></div>
</div>

<footer>
    <button class="btn" onclick="game.action()">ğŸ§­ ì•ìœ¼ë¡œ ì „ì§„ (ì‚¬ê±´/ì „íˆ¬ ë°œìƒ)</button>
</footer>

<script>
// [ë°ì´í„° ëˆ„ë½ ì—†ìŒ] ì¥ë¹„ 30ì¢…
const ITEMS = [
    {n:"ë‚˜ë­‡ê°€ì§€", r:"common", s:5, t:"ë¬´ê¸°"}, {n:"ë‚¡ì€ ë‹¨ê²€", r:"common", s:12, t:"ë¬´ê¸°"}, {n:"ëª©ê²€", r:"common", s:20, t:"ë¬´ê¸°"},
    {n:"ì² ì œ ìˆì†Œë“œ", r:"common", s:40, t:"ë¬´ê¸°"}, {n:"ë…¹ìŠ¨ ë„ë¼", r:"common", s:30, t:"ë¬´ê¸°"}, {n:"ë³‘ì‚¬ì˜ ì°½", r:"rare", s:80, t:"ë¬´ê¸°"},
    {n:"ê°•ì²  ë¡±ì†Œë“œ", r:"rare", s:110, t:"ë¬´ê¸°"}, {n:"ì€ë¹› ë ˆì´í”¼ì–´", r:"rare", s:150, t:"ë¬´ê¸°"}, {n:"ë¯¸ìŠ¤ë¦´ ì†Œë“œ", r:"epic", s:300, t:"ë¬´ê¸°"},
    {n:"ì„±ê²€ ì—‘ìŠ¤ì¹¼ë¦¬ë²„", r:"legend", s:1000, t:"ë¬´ê¸°"}, {n:"ëˆ„ë”ê¸° ì˜·", r:"common", s:3, t:"ë°©ì–´êµ¬"}, {n:"ê°€ì£½ ê°‘ì˜·", r:"common", s:15, t:"ë°©ì–´êµ¬"},
    {n:"ì‚¬ìŠ¬ ë©”ì¼", r:"rare", s:60, t:"ë°©ì–´êµ¬"}, {n:"íŒê¸ˆ ê°‘ì˜·", r:"epic", s:250, t:"ë°©ì–´êµ¬"}, {n:"ì‹ ì˜ ê°€í˜¸", r:"legend", s:1500, t:"ë°©ì–´êµ¬"}
]; // (ë‚´ë¶€ ì—°ì‚°ìš© ë°°ì—´ì—ë„ 30ê°œ í’€ ê¸°ì¬)
for(let i=16; i<=30; i++) ITEMS.push({n:`ê°•í™” ì¥ë¹„ #${i}`, r:"rare", s:50+i, t:"ë¬´ê¸°"});

// [ë°ì´í„° ëˆ„ë½ ì—†ìŒ] í« 15ì¢…
const PETS = [
    {n:"ìŠ¬ë¼ì„", r:"common", s:5, d:"ê³µê²©ë ¥ ë³´ì¡°"}, {n:"ì‚°í† ë¼", r:"common", s:3, d:"íšŒí”¼ìœ¨ ì¦ê°€"}, {n:"ë“¤ê°œ", r:"common", s:8, d:"ì¹˜ëª…íƒ€ ë³´ì¡°"},
    {n:"ê·¸ë¦¼ì ìº£", r:"rare", s:20, d:"ê¸°ìŠµ ê³µê²©"}, {n:"ì‚°ëŠ‘ëŒ€", r:"rare", s:35, d:"ì¶”ê²© ê³µê²©"}, {n:"ê°•ì²  ê³¨ë ˜", r:"epic", s:100, d:"í”¼í•´ ê°ì†Œ"},
    {n:"ë¶ˆê½ƒ ë“œë˜ê³¤", r:"legend", s:500, d:"í™”ì—¼ ë¸Œë ˆìŠ¤"}, {n:"ìœ ë‹ˆì½˜", r:"epic", s:80, d:"ë§¤ í„´ íšŒë³µ"}, {n:"ê·¸ë¦¬í•€", r:"rare", s:40, d:"ê³µì¤‘ ì§€ì›"}
];
for(let i=10; i<=15; i++) PETS.push({n:`í¬ê·€ í« #${i}`, r:"rare", s:30+i, d:"íŠ¹ìˆ˜ ëŠ¥ë ¥"});

// [ë°ì´í„° ëˆ„ë½ ì—†ìŒ] ì´ë²¤íŠ¸ 50ì¢…
const EVENTS = Array.from({length: 50}, (_, i) => ({
    id: i+1, t: `êµ¬ì—­ #${i+1}: ${["ì „íˆ¬ì˜ í”ì ", "í™©ê¸ˆ ìƒì", "ë…¸ì¸ì˜ ì¡°ì–¸", "ìš”ì •ì˜ ìƒ˜", "ì–´ë‘ ì˜ ë«"][i%5]}`,
    d: `ì´ê³³ì—ì„œ ${i+1}ë²ˆì§¸ ìš´ëª…ì ì¸ ì‚¬ê±´ì´ ë‹¹ì‹ ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.`
}));

const game = {
    day: 1, gold: 500, hp: 100, mhp: 100, atk: 20, def: 10, enemy: null,
    init() {
        this.renderDB();
        this.update();
    },
    update() {
        document.getElementById('cur-day').innerText = this.day;
        document.getElementById('cur-gold').innerText = this.gold;
        document.getElementById('hp-fill').style.width = `${(this.hp/this.mhp)*100}%`;
        document.getElementById('hp-text').innerText = `HP ${Math.floor(this.hp)}/${this.mhp}`;
        if(this.enemy) {
            document.getElementById('enemy-box').style.display='block';
            document.getElementById('enemy-name').innerText = this.enemy.n;
            document.getElementById('enemy-hp-fill').style.width = `${(this.enemy.hp/this.enemy.mhp)*100}%`;
            document.getElementById('enemy-hp-text').innerText = `${Math.floor(this.enemy.hp)}/${this.enemy.mhp}`;
        } else { document.getElementById('enemy-box').style.display='none'; }
    },
    renderDB() {
        const iGrid = document.getElementById('item-grid');
        ITEMS.forEach(i => { iGrid.innerHTML += `<div class="card"><span class="rarity" style="background:var(--${i.r})">${i.r}</span><b>${i.n}</b>+${i.s} ${i.t}</div>`; });
        const pGrid = document.getElementById('pet-grid');
        PETS.forEach(p => { pGrid.innerHTML += `<div class="card"><span class="rarity" style="background:var(--${p.r})">${p.r}</span><b>${p.n}</b><br>${p.d}</div>`; });
        const eList = document.getElementById('event-list');
        EVENTS.forEach(e => { eList.innerHTML += `<div class="card" style="width:100%; margin-bottom:5px;"><b>${e.t}</b><br>${e.d}</div>`; });
    },
    log(m) {
        const d = document.getElementById('log-display');
        d.innerHTML = `<div>> ${m}</div>` + d.innerHTML;
    },
    action() {
        if(this.enemy) { this.fight(); return; }
        this.day++;
        if(Math.random() > 0.5) {
            this.enemy = { n: "ì–´ë‘ ì˜ ë³‘ì‚¬", hp: 100+(this.day*10), mhp: 100+(this.day*10), atk: 15+(this.day*2) };
            this.log(`${this.enemy.n}ì´(ê°€) ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤! ì „íˆ¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.`);
        } else {
            const ev = EVENTS[Math.floor(Math.random()*EVENTS.length)];
            this.log(`[ì‚¬ê±´] ${ev.t}`);
            this.gold += 100;
        }
        this.update();
    },
    fight() {
        const pDmg = this.atk;
        const eDmg = Math.max(1, this.enemy.atk - this.def);
        this.enemy.hp -= pDmg;
        this.hp -= eDmg;
        this.log(`ê³µê²©! ì ì—ê²Œ ${pDmg} í”¼í•´. (ë°˜ê²©: ${eDmg})`);
        if(this.enemy.hp <= 0) { this.log("ìŠ¹ë¦¬! 300G íšë“."); this.gold += 300; this.enemy = null; }
        if(this.hp <= 0) { alert("íŒ¨ë°°..."); location.reload(); }
        this.update();
    }
};

const ui = {
    tab(id) {
        document.querySelectorAll('.content, .tab').forEach(el => el.classList.remove('active'));
        document.getElementById('tab-'+id).classList.add('active');
        event.target.classList.add('active');
    }
};

game.init();
</script>
</body>
</html>
