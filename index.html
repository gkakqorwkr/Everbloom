<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Everbloom</title>

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#2fc6b2">

<style>
/* ================= BASE ================= */
:root{
  --bg:#0e2422;
  --glass:rgba(40,110,100,.55);
  --stroke:rgba(120,230,210,.35);
  --txt:#eafffb;
  --muted:rgba(234,255,251,.65);
  --accent:#2fc6b2;
  --ruins:#b8a8ff;
  --r:18px;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
  margin:0;font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",sans-serif;
  color:var(--txt);
  background:
    radial-gradient(900px 600px at 20% 0%, rgba(47,198,178,.25), transparent 60%),
    radial-gradient(900px 600px at 80% 10%, rgba(184,168,255,.18), transparent 60%),
    var(--bg);
  touch-action:manipulation;
}
header{padding:18px;font-size:22px;font-weight:900}
main{padding:16px;display:grid;gap:16px}
.panel{
  background:linear-gradient(180deg,rgba(255,255,255,.14),rgba(255,255,255,.04)),var(--glass);
  border:1px solid var(--stroke);
  border-radius:var(--r);
  padding:14px;
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  position:relative;
}
.panel::before{content:"";position:absolute;inset:0;pointer-events:none}
button{
  padding:12px;border-radius:14px;border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  color:inherit;font-weight:800;
  cursor:pointer;touch-action:manipulation;
}
button:active{transform:translateY(1px)}
h2{margin:0 0 10px;font-size:16px;color:var(--muted)}
.actions{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.action-btn{
  padding:16px;border-radius:16px;border:1px solid var(--stroke);
  background:rgba(40,110,100,.6);
  font-weight:900;cursor:pointer;text-align:center;
}

/* ================= CHAR STUDIO ================= */
#charStudio{margin-top:8px}
#charStudio select,#charStudio input,#charStudio textarea{
  width:100%;padding:10px;border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);color:inherit
}
#csDot{
  width:220px;height:220px;
  image-rendering:pixelated;
  background:#0f0f14;border-radius:14px;
  display:block;margin:auto
}
.csGrid{display:grid;grid-template-columns:220px 1fr;gap:12px}
@media(max-width:720px){.csGrid{grid-template-columns:1fr}}
.csMiniGrid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
@media(max-width:720px){.csMiniGrid{grid-template-columns:1fr}}
.csMiniBox{padding:10px;border-radius:12px;background:rgba(255,255,255,.04)}
#csIllust{width:260px;height:360px;object-fit:cover;border-radius:14px;background:#111}
@media(max-width:720px){#csIllust{width:100%;height:320px}}
</style>
</head>

<body>
<header>ğŸŒ¿ Everbloom</header>

<main>

<section class="panel">
  <h2>ğŸ“œ ì§„í–‰</h2>
  <div id="log">ì‹œì‘ ì¤€ë¹„ ì™„ë£Œ.</div>
</section>

<section class="panel">
  <div class="actions">
    <div class="action-btn">ğŸ—º ì´ë™</div>
    <div class="action-btn">ğŸ” íƒí—˜</div>
    <div class="action-btn">ğŸ¾ í« (ë¯¸êµ¬í˜„)</div>
    <div class="action-btn">ğŸ’ ê´€ê³„ (ë¯¸êµ¬í˜„)</div>
  </div>
</section>

<section class="panel" id="charStudio">
<h2>ğŸƒ ìºë¦­í„° ìŠ¤íŠœë””ì˜¤</h2>

<div class="csGrid">
  <div>
    <canvas id="csDot" width="128" height="128"></canvas>
    <button id="dotReroll" style="width:100%;margin-top:8px">ë„íŠ¸ ë¦¬ë¡¤</button>
  </div>

  <div>
    <div class="csMiniGrid">
      <select id="gender"><option>ëœë¤</option><option>ì—¬ì„±</option><option>ë‚¨ì„±</option></select>
      <select id="race"><option>ëœë¤</option><option>ì¸ê°„</option><option>ì—˜í”„</option><option>ê³ ì–‘ì´</option><option>í‹°í”Œë§</option></select>
      <select id="job"><option>ëœë¤</option><option>íŒŒì´í„°</option><option>ë ˆì¸ì €</option><option>ìœ„ì €ë“œ</option><option>ë¡œê·¸</option></select>
      <select id="weapon">
        <option>ëœë¤</option>
        <option>ì¹´íƒ€ë‚˜</option><option>ë‚˜ê¸°ë‚˜íƒ€</option><option>ìœ ë¯¸</option>
        <option>ë¡±ì†Œë“œ</option><option>ê·¸ë ˆì´íŠ¸ì†Œë“œ</option><option>ë ˆì´í”¼ì–´</option>
        <option>ëŒ€ê±°</option><option>ì›Œí•´ë¨¸</option><option>ë©”ì´ìŠ¤</option>
        <option>ì§€íŒ¡ì´</option><option>í¬ë¡œìŠ¤ë³´ìš°</option>
      </select>
    </div>

    <input id="name" placeholder="ì´ë¦„(ì„ íƒ)" style="margin-top:8px">

    <button id="gen" style="margin-top:8px;width:100%">ì¹´ë“œ ìƒì„±</button>

    <textarea id="prompt" rows="5" style="margin-top:8px"></textarea>
    <button id="copy" style="margin-top:6px;width:100%">í”„ë¡¬í”„íŠ¸ ë³µì‚¬</button>
  </div>
</div>

<div style="margin-top:14px;display:flex;gap:12px;flex-wrap:wrap">
  <img id="csIllust">
  <div>
    <div id="cardTitle" style="font-size:18px;font-weight:900">ì´ë¦„ ë¯¸ì •</div>
    <div id="cardLine" style="opacity:.8"></div>
    <div class="csMiniBox" style="margin-top:8px">
      <div>ë°°ê²½</div>
      <div id="bio"></div>
    </div>
  </div>
</div>
   <section class="panel" id="petPanel">
  <h2>ğŸ¾ í«</h2>

  <div id="petInfo" style="margin-bottom:10px;opacity:.9">
    í«ì´ ì—†ìŠµë‹ˆë‹¤.
  </div>

  <div class="actions">
    <div class="action-btn" id="petCreate">ğŸŒ± í« ìƒì„±</div>
    <div class="action-btn" id="petFeed">ğŸ– ë¨¹ì´ ì£¼ê¸°</div>
    <div class="action-btn" id="petBreed">ğŸ§¬ êµë°°</div>
    <div class="action-btn" id="petEvolve">âœ¨ ì§„í™”</div>
  </div>
</section>
</section>

</main>

<script>
/* ================= CORE ================= */
const $=id=>document.getElementById(id)
const rand=a=>a[Math.floor(Math.random()*a.length)]

const canvas=$("csDot"),ctx=canvas.getContext("2d")
function drawDot(){
  ctx.clearRect(0,0,128,128)
  ctx.fillStyle="#0f0f14";ctx.fillRect(0,0,128,128)
  ctx.fillStyle=["#f1c7a3","#d99f7d","#c78866"][Math.floor(Math.random()*3)]
  ctx.fillRect(44,28,40,40)
  ctx.fillStyle="#222";ctx.fillRect(56,46,6,6);ctx.fillRect(66,46,6,6)
  ctx.fillStyle="#333";ctx.fillRect(44,70,40,38)
}
drawDot()

$("dotReroll").onclick=drawDot

$("gen").onclick=()=>{
  const name=$("name").value||"ì´ë¦„ ë¯¸ì •"
  $("cardTitle").textContent=name
  $("cardLine").textContent=`${$("race").value} Â· ${$("job").value}`
  $("bio").textContent=rand([
    "ë“±ë‚˜ë¬´ ìˆ²ê³¼ ìœ ì  ì‚¬ì´ë¥¼ ë– ë„ëŠ” ì—¬í–‰ì.",
    "ê³ ëŒ€ ìœ ë¬¼ì˜ ë¶€ë¦„ì„ ë“£ëŠ” ì.",
    "ìˆ²ì´ ìˆ¨ì„ ì‰´ ë•Œ ë§ˆë²•ì´ ê°•í•´ì§„ë‹¤."
  ])
  $("prompt").value=[
    "Japanese anime style",
    "fantasy key visual",
    "cel shading",
    "forest ruins wisteria",
    $("job").value,$("weapon").value
  ].join(", ")
}

$("copy").onclick=async()=>{
  try{await navigator.clipboard.writeText($("prompt").value);alert("ë³µì‚¬ë¨")}
  catch{alert("ê¸¸ê²Œ ëˆŒëŸ¬ ë³µì‚¬")}
}
   <script>
/* ===============================
   PET SYSTEM (EVERBLOOM)
   =============================== */

const PET_KEY = "everbloom_pet_v1";

const PetDB = {
  species:["flora","beast","spirit","drake","fae"],
  traits:["ì˜¨ìˆœí•¨","í˜¸ê¸°ì‹¬","ì•¼ì„±","ì˜ë¦¬í•¨","ì‹ ë¹„"],
  evolve:{
    flora:"ancient flora",
    beast:"alpha beast",
    spirit:"elder spirit",
    drake:"ancient drake",
    fae:"fae lord"
  }
};

let pet = null;

function savePet(){
  localStorage.setItem(PET_KEY, JSON.stringify(pet));
}
function loadPet(){
  const d = localStorage.getItem(PET_KEY);
  if(d) pet = JSON.parse(d);
}

function newPet(parentA=null,parentB=null){
  return{
    id: Math.random().toString(36).slice(2),
    species: parentA && parentB
      ? rand([parentA.species,parentB.species,rand(PetDB.species)])
      : rand(PetDB.species),
    stage: 1,
    affinity: 0,
    trait: rand(PetDB.traits),
    seed: (Math.random()*0xffffffff)>>>0
  };
}

function petInfo(){
  if(!pet) return "í«ì´ ì—†ìŠµë‹ˆë‹¤.";
  return `
ì¢…ì¡±: ${pet.species}
ë‹¨ê³„: ${pet.stage}
í˜¸ê°ë„: ${pet.affinity}
ì„±í–¥: ${pet.trait}
`;
}

function renderPet(){
  $("petInfo").textContent = petInfo();
  savePet();
}

/* ===============================
   PET ACTIONS
   =============================== */
$("petCreate").addEventListener("pointerup", ()=>{
  pet = newPet();
  renderPet();
});

$("petFeed").addEventListener("pointerup", ()=>{
  if(!pet){ alert("í«ì´ ì—†ì–´!"); return; }
  pet.affinity += 20;
  if(pet.affinity >= 100){
    pet.affinity = 0;
    pet.stage++;
    alert("âœ¨ í«ì´ ì„±ì¥í–ˆë‹¤!");
  }
  renderPet();
});

$("petBreed").addEventListener("pointerup", ()=>{
  if(!pet){ alert("í«ì´ ì—†ì–´!"); return; }
  const child = newPet(pet, newPet());
  pet = child;
  alert("ğŸ§¬ ìƒˆë¡œìš´ í«ì´ íƒœì–´ë‚¬ë‹¤!");
  renderPet();
});

$("petEvolve").addEventListener("pointerup", ()=>{
  if(!pet){ alert("í«ì´ ì—†ì–´!"); return; }
  if(pet.stage < 3){
    alert("ì•„ì§ ì§„í™”í•  ìˆ˜ ì—†ì–´.");
    return;
  }
  pet.species = PetDB.evolve[pet.species] || pet.species;
  pet.stage = 1;
  pet.affinity = 0;
  alert("âœ¨ í«ì´ ì§„í™”í–ˆë‹¤!");
  renderPet();
});

/* ===============================
   INIT
   =============================== */
loadPet();
renderPet();
</script>
</script>
</body>
</html>
